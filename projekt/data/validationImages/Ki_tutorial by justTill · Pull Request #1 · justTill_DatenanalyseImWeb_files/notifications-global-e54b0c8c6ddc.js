"use strict";(()=>{var ot=Object.defineProperty;var i=(O,P)=>ot(O,"name",{value:P,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["notifications-global","app_assets_modules_github_form_ts-app_assets_modules_github_navigation_ts"],{97261:(O,P,u)=>{u.d(P,{S:()=>r});function o(c){const p=document.querySelectorAll(c);if(p.length>0)return p[p.length-1]}i(o,"queryLast");function E(){const c=o("meta[name=analytics-location]");return c?c.content:window.location.pathname}i(E,"pagePathname");function h(){const c=o("meta[name=analytics-location-query-strip]");let p="";c||(p=window.location.search);const b=o("meta[name=analytics-location-params]");b&&(p+=(p?"&":"?")+b.content);for(const d of document.querySelectorAll("meta[name=analytics-param-rename]")){const f=d.content.split(":",2);p=p.replace(new RegExp(`(^|[?&])${f[0]}($|=)`,"g"),`$1${f[1]}$2`)}return p}i(h,"pageQuery");function r(){return`${window.location.protocol}//${window.location.host}${E()+h()}`}i(r,"requestUri")},63621:(O,P,u)=>{u.d(P,{H:()=>h,v:()=>E});var o=u(59753);function E(){const r=document.getElementById("ajax-error-message");r&&(r.hidden=!1)}i(E,"showGlobalError");function h(){const r=document.getElementById("ajax-error-message");r&&(r.hidden=!0)}i(h,"hideGlobalError"),(0,o.on)("deprecatedAjaxError","[data-remote]",function(r){const c=r.detail,{error:p,text:b}=c;r.currentTarget===r.target&&(p==="abort"||p==="canceled"||(/<html/.test(b)?(E(),r.stopImmediatePropagation()):setTimeout(function(){r.defaultPrevented||E()},0)))}),(0,o.on)("deprecatedAjaxSend","[data-remote]",function(){h()}),(0,o.on)("click",".js-ajax-error-dismiss",function(){h()})},46073:(O,P,u)=>{u.d(P,{Ty:()=>E,YE:()=>h,Zf:()=>r});var o=u(11793);const E=i(()=>{const c=document.querySelector("meta[name=keyboard-shortcuts-preference]");return c?c.content==="all":!0},"areCharacterKeyShortcutsEnabled"),h=i(c=>/Enter|Arrow|Escape|Meta|Control|Esc/.test(c)||c.includes("Alt")&&c.includes("Shift"),"isNonCharacterKeyShortcut"),r=i(c=>{const p=(0,o.EL)(c);return E()?!0:h(p)},"isShortcutAllowed")},36997:(O,P,u)=>{u.d(P,{VZ:()=>E,_C:()=>h,cv:()=>o,oE:()=>r});function o(b){const d=b.getBoundingClientRect();return{top:d.top+window.pageYOffset,left:d.left+window.pageXOffset}}i(o,"offset");function E(b){let d=b;const f=d.ownerDocument;if(!f||!d.offsetParent)return;const w=f.defaultView.HTMLElement;if(d!==f.body){for(;d!==f.body;){if(d.parentElement instanceof w)d=d.parentElement;else return;const{position:C,overflowY:S,overflowX:m}=getComputedStyle(d);if(C==="fixed"||S==="auto"||m==="auto"||S==="scroll"||m==="scroll")break}return d instanceof Document?null:d}}i(E,"overflowParent");function h(b,d){let f=d;const w=b.ownerDocument;if(!w)return;const C=w.documentElement;if(!C||b===C)return;const S=r(b,f);if(!S)return;f=S._container;const m=f===w.documentElement&&w.defaultView?{top:w.defaultView.pageYOffset,left:w.defaultView.pageXOffset}:{top:f.scrollTop,left:f.scrollLeft},L=S.top-m.top,D=S.left-m.left,I=f.clientHeight,M=f.clientWidth,N=I-(L+b.offsetHeight),H=M-(D+b.offsetWidth);return{top:L,left:D,bottom:N,right:H,height:I,width:M}}i(h,"overflowOffset");function r(b,d){let f=b;const w=f.ownerDocument;if(!w)return;const C=w.documentElement;if(!C)return;const S=w.defaultView.HTMLElement;let m=0,L=0;const D=f.offsetHeight,I=f.offsetWidth;for(;!(f===w.body||f===d);)if(m+=f.offsetTop||0,L+=f.offsetLeft||0,f.offsetParent instanceof S)f=f.offsetParent;else return;let M,N,H;if(!d||d===w||d===w.defaultView||d===w.documentElement||d===w.body)H=C,M=c(w.body,C),N=p(w.body,C);else if(d instanceof S)H=d,M=d.scrollHeight,N=d.scrollWidth;else return;const U=M-(m+D),$=N-(L+I);return{top:m,left:L,bottom:U,right:$,_container:H}}i(r,"positionedOffset");function c(b,d){return Math.max(b.scrollHeight,d.scrollHeight,b.offsetHeight,d.offsetHeight,d.clientHeight)}i(c,"getDocumentHeight");function p(b,d){return Math.max(b.scrollWidth,d.scrollWidth,b.offsetWidth,d.offsetWidth,d.clientWidth)}i(p,"getDocumentWidth")},66963:(O,P,u)=>{u.d(P,{D:()=>r,a:()=>h});var o=u(99997),E=u(5638);async function h(c,p,b){const d=new Request(p,b);d.headers.append("X-Requested-With","XMLHttpRequest");const f=await self.fetch(d);if(f.status<200||f.status>=300)throw new Error(`HTTP ${f.status}${f.statusText||""}`);return(0,o.t)((0,o.P)(c),f),(0,E.r)(c,await f.text())}i(h,"fetchSafeDocumentFragment");function r(c,p,b=1e3){return i(async function d(f){const w=new Request(c,p);w.headers.append("X-Requested-With","XMLHttpRequest");const C=await self.fetch(w);if(C.status<200||C.status>=300)throw new Error(`HTTP ${C.status}${C.statusText||""}`);if(C.status===200)return C;if(C.status===202)return await new Promise(S=>setTimeout(S,f)),d(f*1.5);throw new Error(`Unexpected ${C.status} response status from poll endpoint`)},"poll")(b)}i(r,"fetchPoll")},57654:(O,P,u)=>{u.d(P,{Bt:()=>c,DN:()=>d,KL:()=>C,Se:()=>b,qC:()=>S,sw:()=>f});var o=u(59753),E=u(2077),h=u(63621);(0,o.on)("click",".js-remote-submit-button",async function(m){const D=m.currentTarget.form;m.preventDefault();let I;try{I=await fetch(D.action,{method:D.method,body:new FormData(D),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}I&&!I.ok&&(0,h.v)()});function r(m,L,D){return m.dispatchEvent(new CustomEvent(L,{bubbles:!0,cancelable:D}))}i(r,"fire");function c(m,L){L&&(p(m,L),(0,E.j)(L)),r(m,"submit",!0)&&m.submit()}i(c,"requestSubmit");function p(m,L){if(!(m instanceof HTMLFormElement))throw new TypeError("The specified element is not of type HTMLFormElement.");if(!(L instanceof HTMLElement))throw new TypeError("The specified element is not of type HTMLElement.");if(L.type!=="submit")throw new TypeError("The specified element is not a submit button.");if(!m||m!==L.form)throw new Error("The specified element is not owned by the form element.")}i(p,"checkButtonValidity");function b(m,L){if(typeof L=="boolean")if(m instanceof HTMLInputElement)m.checked=L;else throw new TypeError("only checkboxes can be set to boolean value");else{if(m.type==="checkbox")throw new TypeError("checkbox can't be set to string value");m.value=L}r(m,"change",!1)}i(b,"changeValue");function d(m,L){for(const D in L){const I=L[D],M=m.elements.namedItem(D);(M instanceof HTMLInputElement||M instanceof HTMLTextAreaElement)&&(M.value=I)}}i(d,"fillFormValues");function f(m){if(!(m instanceof HTMLElement))return!1;const L=m.nodeName.toLowerCase(),D=(m.getAttribute("type")||"").toLowerCase();return L==="select"||L==="textarea"||L==="input"&&D!=="submit"&&D!=="reset"||m.isContentEditable}i(f,"isFormField");function w(m){return new URLSearchParams(m)}i(w,"searchParamsFromFormData");function C(m,L){const D=new URLSearchParams(m.search),I=w(L);for(const[M,N]of I)D.append(M,N);return D.toString()}i(C,"combineGetFormSearchParams");function S(m){return w(new FormData(m)).toString()}i(S,"serialize")},99997:(O,P,u)=>{u.d(P,{P:()=>o,t:()=>h});function o(r){const c=[...r.querySelectorAll("meta[name=html-safe-nonce]")].map(p=>p.content);if(c.length<1)throw new Error("could not find html-safe-nonce on document");return c}i(o,"getDocumentHtmlSafeNonces");class E extends Error{constructor(c,p){super(`${c} for HTTP ${p.status}`);this.response=p}}i(E,"ResponseError");function h(r,c,p=!1){const b=c.headers.get("content-type")||"";if(!p&&!b.startsWith("text/html"))throw new E(`expected response with text/html, but was ${b}`,c);if(p&&!(b.startsWith("text/html")||b.startsWith("application/json")))throw new E(`expected response with text/html or application/json, but was ${b}`,c);const d=c.headers.get("x-html-safe");if(d){if(!r.includes(d))throw new E("response X-HTML-Safe nonce did not match",c)}else throw new E("missing X-HTML-Safe nonce",c)}i(h,"verifyResponseHtmlSafeNonce")},93875:(O,P,u)=>{u.d(P,{QZ:()=>H,ZH:()=>q,jK:()=>U,T_:()=>z,Sw:()=>R,VF:()=>V,VH:()=>tt});var o=u(16246),E=u(59753),h=u(36997),r=u(11793),c=u(46073),p=u(64463);function b(e,s){let _=e;const v=e.ownerDocument;(_===v||_===v.defaultView||_===v.documentElement||_===v.body)&&(_=v);const A=v.defaultView.Document;if(_ instanceof A){const F=s.top!=null?s.top:v.defaultView.pageYOffset,W=s.left!=null?s.left:v.defaultView.pageXOffset;v.defaultView.scrollTo(W,F);return}const j=v.defaultView.HTMLElement;if(!(_ instanceof j))throw new Error("invariant");_.scrollTop=s.top,s.left!=null&&(_.scrollLeft=s.left)}i(b,"scrollTo");var d=u(75343);const f=navigator.userAgent.match(/Macintosh/),w=f?"metaKey":"ctrlKey",C=f?"Meta":"Control";let S=!1,m={x:0,y:0};(0,p.N7)(".js-navigation-container:not(.js-navigation-container-no-mouse)",{subscribe:e=>(0,o.qC)((0,o.RB)(e,"mouseover",L),(0,o.RB)(e,"mouseover",D))});function L(e){e instanceof MouseEvent&&((m.x!==e.clientX||m.y!==e.clientY)&&(S=!1),m={x:e.clientX,y:e.clientY})}i(L,"onContainerMouseMove");function D(e){if(S)return;const s=e.currentTarget,{target:_}=e;if(!(_ instanceof Element)||!(s instanceof HTMLElement)||!s.closest(".js-active-navigation-container"))return;const v=_.closest(".js-navigation-item");v&&k(v,s)}i(D,"onContainerMouseOver");let I=0;(0,p.N7)(".js-active-navigation-container",{add(){I++,I===1&&document.addEventListener("keydown",M)},remove(){I--,I===0&&document.removeEventListener("keydown",M)}});function M(e){if(e.target!==document.body&&e.target instanceof HTMLElement&&!e.target.classList.contains("js-navigation-enable"))return;S=!0;const s=G();let _=!1;if(s){const v=s.querySelector(".js-navigation-item.navigation-focus")||s;_=(0,E.f)(v,"navigation:keydown",{hotkey:(0,r.EL)(e),originalEvent:e,originalTarget:e.target})}_||e.preventDefault()}i(M,"fireCustomKeydown"),(0,E.on)("navigation:keydown",".js-active-navigation-container",function(e){const s=e.currentTarget,_=e.detail.originalTarget.matches("input, textarea"),v=e.target;if(!!(0,c.Zf)(e.detail.originalEvent)){if(v.classList.contains("js-navigation-item"))if(_){if(f)switch((0,r.EL)(e.detail.originalEvent)){case"Control+n":B(v,s);break;case"Control+p":K(v,s)}switch((0,r.EL)(e.detail.originalEvent)){case"ArrowUp":K(v,s);break;case"ArrowDown":B(v,s);break;case"Enter":case`${C}+Enter`:Z(v,e.detail.originalEvent[w]);break}}else{if(f)switch((0,r.EL)(e.detail.originalEvent)){case"Control+n":B(v,s);break;case"Control+p":K(v,s);break;case"Alt+v":et(v,s);break;case"Control+v":nt(v,s)}switch((0,r.EL)(e.detail.originalEvent)){case"j":case"J":B(v,s);break;case"k":case"K":K(v,s);break;case"o":case"Enter":case`${C}+Enter`:Z(v,e.detail[w]);break}}else{const A=X(s)[0];if(A)if(_){if(f)switch((0,r.EL)(e.detail.originalEvent)){case"Control+n":k(A,s)}switch((0,r.EL)(e.detail.originalEvent)){case"ArrowDown":k(A,s)}}else{if(f)switch((0,r.EL)(e.detail.originalEvent)){case"Control+n":case"Control+v":k(A,s)}switch((0,r.EL)(e.detail.originalEvent)){case"j":k(A,s)}}}if(_){if(f)switch((0,r.EL)(e.detail.originalEvent)){case"Control+n":case"Control+p":e.preventDefault()}switch((0,r.EL)(e.detail.originalEvent)){case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Enter":e.preventDefault()}}else{if(f)switch((0,r.EL)(e.detail.originalEvent)){case"Control+n":case"Control+p":case"Control+v":case"Alt+v":e.preventDefault()}switch((0,r.EL)(e.detail.originalEvent)){case"j":case"k":case"o":e.preventDefault();break;case"Enter":case`${w}+Enter`:e.preventDefault()}}}});function N(e){const s=e.modifierKey||e.altKey||e.ctrlKey||e.metaKey;(0,E.f)(e.currentTarget,"navigation:open",{modifierKey:s,shiftKey:e.shiftKey})||e.preventDefault()}i(N,"fireOpen"),(0,E.on)("click",".js-active-navigation-container .js-navigation-item",function(e){N(e)}),(0,E.on)("navigation:keyopen",".js-active-navigation-container .js-navigation-item",function(e){const s=e.currentTarget.classList.contains("js-navigation-open")?e.currentTarget:e.currentTarget.querySelector(".js-navigation-open");s instanceof HTMLAnchorElement?(e.detail.modifierKey?(window.open(s.href,"_blank"),window.focus()):s.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))&&s.click(),e.preventDefault()):N(e)});function H(e){const s=G();e!==s&&(s!==null&&U(s),e==null||e.classList.add("js-active-navigation-container"))}i(H,"activate");function U(e){e.classList.remove("js-active-navigation-container")}i(U,"deactivate");const $=[];function V(e){const s=G();s&&$.push(s),H(e)}i(V,"push");function R(e){U(e),q(e);const s=$.pop();s&&H(s)}i(R,"pop");function z(e,s){const _=s||e,v=X(e)[0],A=_.closest(".js-navigation-item")||v;if(H(e),A instanceof HTMLElement){if(k(A,e))return;const F=(0,h.VZ)(A);x(F,A)}}i(z,"navigation_focus");function q(e){const s=e.querySelectorAll(".js-navigation-item.navigation-focus");for(const _ of s)_.classList.remove("navigation-focus")}i(q,"clear");function tt(e,s){q(e),z(e,s)}i(tt,"refocus");function K(e,s){const _=X(s),v=_.indexOf(e),A=_[v-1];if(A){if(k(A,s))return;const F=(0,h.VZ)(A);J(s)==="page"?Y(F,A):x(F,A)}}i(K,"cursorUp");function B(e,s){const _=X(s),v=_.indexOf(e),A=_[v+1];if(A){if(k(A,s))return;const F=(0,h.VZ)(A);J(s)==="page"?Y(F,A):x(F,A)}}i(B,"cursorDown");function et(e,s){const _=X(s);let v=_.indexOf(e);const A=(0,h.VZ)(e);if(A==null)return;let j,F;for(;(j=_[v-1])&&(F=(0,h._C)(j,A))&&F.top>=0;)v--;if(j){if(k(j,s))return;Y(A,j)}}i(et,"pageUp");function nt(e,s){const _=X(s);let v=_.indexOf(e);const A=(0,h.VZ)(e);if(A==null)return;let j,F;for(;(j=_[v+1])&&(F=(0,h._C)(j,A))&&F.bottom>=0;)v++;if(j){if(k(j,s))return;Y(A,j)}}i(nt,"pageDown");function Z(e,s=!1){(0,E.f)(e,"navigation:keyopen",{modifierKey:s})}i(Z,"keyOpen");function k(e,s){return(0,E.f)(e,"navigation:focus")?(q(s),e.classList.add("navigation-focus"),!1):!0}i(k,"focusItem");function G(){return document.querySelector(".js-active-navigation-container")}i(G,"getActiveContainer");function X(e){const s=[];for(const _ of e.querySelectorAll(".js-navigation-item"))_ instanceof HTMLElement&&(0,d.Z)(_)&&s.push(_);return s}i(X,"getItems");function J(e){return e.getAttribute("data-navigation-scroll")||"item"}i(J,"getScrollStyle");function Y(e,s,_="smooth"){const v=(0,h._C)(s,e);!v||(v.bottom<=0?s.scrollIntoView({behavior:_,block:"start"}):v.top<=0&&s.scrollIntoView({behavior:_,block:"end"}))}i(Y,"scrollPageTo");function x(e,s){const _=(0,h.oE)(s,e),v=(0,h._C)(s,e);if(!(_==null||v==null))if(v.bottom<=0&&document.body){const j=(e.offsetParent!=null?e.scrollHeight:document.body.scrollHeight)-(_.bottom+v.height);b(e,{top:j})}else v.top<=0&&b(e,{top:_.top})}i(x,"scrollItemTo")},78250:(O,P,u)=>{u.d(P,{L:()=>h,v:()=>r});var o=u(93875),E=u(75343);function h(b,d){const f=b||c();if(!f)return{};const w=f.querySelector(d||".js-notifications-list-item.navigation-focus");return w instanceof HTMLElement?{id:w.getAttribute("data-notification-id"),position:p(f).indexOf(w)}:{}}i(h,"getCurrentFocus");function r({id:b,position:d},f){const w=f||c();if(!(w instanceof HTMLElement))return;const C=p(w);let S;b&&(S=C.find(m=>m.getAttribute("data-notification-id")===b)),!S&&d!=null&&(S=C[Math.min(d,C.length-1)]),S instanceof HTMLElement&&(0,o.T_)(w,S)}i(r,"restoreFocus");function c(){return document.querySelector(".js-notifications-list .js-navigation-container")}i(c,"getNotificationsList");function p(b){return Array.from(b.querySelectorAll(".js-navigation-item")).filter(E.Z)}i(p,"getItems")},5638:(O,P,u)=>{u.d(P,{r:()=>o});function o(E,h){const r=E.createElement("template");return r.innerHTML=h,E.importNode(r.content,!0)}i(o,"parseHTML")},2077:(O,P,u)=>{u.d(P,{j:()=>o,u:()=>E});function o(h){const r=h.closest("form");if(!(r instanceof HTMLFormElement))return;let c=E(r);if(h.name){const p=h.matches("input[type=submit]")?"Submit":"",b=h.value||p;c||(c=document.createElement("input"),c.type="hidden",c.classList.add("is-submit-button-value"),r.prepend(c)),c.name=h.name,c.value=b}else c&&c.remove()}i(o,"persistSubmitButtonValue");function E(h){const r=h.querySelector("input.is-submit-button-value");return r instanceof HTMLInputElement?r:null}i(E,"findPersistedSubmitButtonValue")},31579:(O,P,u)=>{u.d(P,{Z:()=>E});class o{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}}i(o,"NoOpStorage");function E(h,r={throwQuotaErrorsOnSet:!1},c=window){let p;try{p=c[h]}catch{p=new o}const{throwQuotaErrorsOnSet:b}=r;function d(C){try{return p.getItem(C)}catch{return null}}i(d,"getItem");function f(C,S){try{p.setItem(C,S)}catch(m){if(b&&m.message.toLowerCase().includes("quota"))throw m}}i(f,"setItem");function w(C){try{p.removeItem(C)}catch{}}return i(w,"removeItem"),{getItem:d,setItem:f,removeItem:w}}i(E,"safeStorage")},30855:(O,P,u)=>{u.d(P,{LS:()=>h,cl:()=>r,rV:()=>E});var o=u(31579);const{getItem:E,setItem:h,removeItem:r}=(0,o.Z)("sessionStorage")},71692:(O,P,u)=>{u.d(P,{Ak:()=>m,F2:()=>V,F6:()=>N,FP:()=>C,LD:()=>w,OE:()=>f,Po:()=>d,QE:()=>h,Rl:()=>U,Xk:()=>I,Ys:()=>M,aN:()=>$,wP:()=>H});var o=u(30855),E=u(97261);const h=Object.freeze({INITIAL:"soft-nav:initial",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",START:"soft-nav:start",END:"soft-nav:end"}),r="soft-navigation-fail",c="soft-navigation-referrer",p="soft-navigation-marker",b="reload";function d(){return(0,o.rV)(p)==="1"}i(d,"inSoftNavigation");function f(){return Boolean(L())}i(f,"hasSoftNavFailure");function w(){performance.mark(p),(0,o.LS)(p,"1"),(0,o.LS)(c,(0,E.S)()||window.location.href)}i(w,"startSoftNav");function C(){(0,o.LS)(p,"0")}i(C,"endSoftNav");function S(){(0,o.LS)(p,"0"),(0,o.cl)(c),(0,o.cl)(r)}i(S,"clearSoftNav");function m(R){(0,o.LS)(r,R||b)}i(m,"setSoftNavFailReason");function L(){return(0,o.rV)(r)}i(L,"getSoftNavFailReason");let D=0;function I(){D+=1,document.dispatchEvent(new CustomEvent(h.SUCCESS,{detail:D}))}i(I,"softNavSucceeded");function M(){document.dispatchEvent(new CustomEvent(h.ERROR,{detail:L()||b})),D=0,S()}i(M,"softNavFailed");function N(){document.dispatchEvent(new CustomEvent(h.INITIAL)),D=0,S()}i(N,"softNavInitial");function H(){return(0,o.rV)(c)||document.referrer}i(H,"getSoftNavReferrer");function U(){return performance.getEntriesByName(p).length===0?0:performance.measure(p,p).duration}i(U,"getDurationSinceLastSoftNav");function $(){document.dispatchEvent(new Event(h.START))}i($,"beginProgressBar");function V(){document.dispatchEvent(new Event(h.END))}i(V,"completeProgressBar")},16246:(O,P,u)=>{u.d(P,{RB:()=>E,qC:()=>h,w0:()=>o});class o{constructor(c){this.closed=!1,this.unsubscribe=()=>{c(),this.closed=!0}}}i(o,"Subscription");function E(r,c,p,b={capture:!1}){return r.addEventListener(c,p,b),new o(()=>{r.removeEventListener(c,p,b)})}i(E,"fromEvent");function h(...r){return new o(()=>{for(const c of r)c.unsubscribe()})}i(h,"compose")},75343:(O,P,u)=>{u.d(P,{Z:()=>E});function o(h){return h.offsetWidth<=0&&h.offsetHeight<=0}i(o,"hidden");function E(h){return!o(h)}i(E,"visible")},67292:(O,P,u)=>{var o=u(90420),E=Object.defineProperty,h=Object.getOwnPropertyDescriptor,r=i((t,n,g,l)=>{for(var a=l>1?void 0:l?h(n,g):n,y=t.length-1,T;y>=0;y--)(T=t[y])&&(a=(l?T(n,g,a):T(a))||a);return l&&a&&E(n,g,a),a},"__decorateClass");let c=i(class extends HTMLElement{constructor(){super();this.addEventListener("socket:message",this.update.bind(this))}update(t){const n=t.detail.data;this.link.setAttribute("aria-label",n.aria_label),this.link.setAttribute("data-ga-click",n.ga_click),this.modifier.setAttribute("class",n.span_class)}},"NotificationIndicatorElement");r([o.fA],c.prototype,"link",2),r([o.fA],c.prototype,"modifier",2),c=r([o.Ih],c);var p=Object.defineProperty,b=Object.getOwnPropertyDescriptor,d=i((t,n,g,l)=>{for(var a=l>1?void 0:l?b(n,g):n,y=t.length-1,T;y>=0;y--)(T=t[y])&&(a=(l?T(n,g,a):T(a))||a);return l&&a&&p(n,g,a),a},"notification_focus_indicator_element_decorateClass");let f=i(class extends HTMLElement{connectedCallback(){this.addEventListener("socket:message",t=>{const n=t.detail.data;this.link.setAttribute("aria-label",n.aria_label),this.link.setAttribute("data-ga-click",n.ga_click),this.modifier.setAttribute("class",n.span_class)})}toggleSidebar(){const t=new CustomEvent("notification-focus:toggle-sidebar",{bubbles:!0});this.dispatchEvent(t)}},"NotificationFocusIndicatorElement");d([o.fA],f.prototype,"link",2),d([o.fA],f.prototype,"modifier",2),f=d([o.Ih],f);var w=Object.defineProperty,C=Object.getOwnPropertyDescriptor,S=i((t,n,g,l)=>{for(var a=l>1?void 0:l?C(n,g):n,y=t.length-1,T;y>=0;y--)(T=t[y])&&(a=(l?T(n,g,a):T(a))||a);return l&&a&&w(n,g,a),a},"notification_focus_filters_element_decorateClass");let m=i(class extends HTMLElement{changeFilter(t){t.preventDefault(),this.detailsContainer.removeAttribute("open");const n=t.currentTarget;this.setFilterTitle(n.innerHTML),this.dispatchEvent(new CustomEvent("focus-mode-filter-change",{detail:{url:n.href}}))}setFilterTitle(t){this.filterTitle.innerHTML=t}},"NotificationFocusFiltersElement");S([o.fA],m.prototype,"detailsContainer",2),S([o.fA],m.prototype,"filterTitle",2),m=S([o.Ih],m);var L=u(78250),D=u(93875),I=u(66963),M=u(71692),N=u(64463),H=u(59753),U=Object.defineProperty,$=Object.getOwnPropertyDescriptor,V=i((t,n,g,l)=>{for(var a=l>1?void 0:l?$(n,g):n,y=t.length-1,T;y>=0;y--)(T=t[y])&&(a=(l?T(n,g,a):T(a))||a);return l&&a&&U(n,g,a),a},"notification_focus_list_element_decorateClass");let R=i(class extends HTMLElement{connectedCallback(){(0,N.N7)(".js-notification-focus-list",()=>{this.setupPaginationObserver()}),(0,H.on)("pjax:end","#js-repo-pjax-container",()=>{this.toggleCurrentFocusedNotification()}),(0,H.on)(M.QE.SUCCESS,"#js-repo-pjax-container",()=>{this.toggleCurrentFocusedNotification()})}disconnectedCallback(){this.disconnectCurrentObserver()}deactivateNavigation(){(0,D.Sw)(this.container)}activateNavigation(){(0,D.VF)(this.container)}replaceContent(t){this.container.innerHTML="",this.container.appendChild(t),this.setupPaginationObserver()}onRemoveItem(t){var n,g,l;const a=t.detail.notificationId,y=(0,L.L)(this.container,".js-navigation-item.navigation-focus");(l=(g=(n=this.listElements)==null?void 0:n.find(T=>T.notificationId===a))==null?void 0:g.closest("li"))==null||l.remove(),this.listElements.length===0?(this.blankSlate.hidden=!1,this.list.hidden=!0):(0,L.v)(y,this.container)}toggleCurrentFocusedNotification(){for(const t of this.listElements){const n=window.location.href.includes(t.url());t.setFocusedState(n)}}setupPaginationObserver(){!!window.IntersectionObserver&&this.nextPageItem&&(this.currentObserver=new IntersectionObserver(t=>{!t[0].isIntersecting||(this.disconnectCurrentObserver(),this.loadNextPage())},{root:this.container,threshold:0}),this.currentObserver.observe(this.nextPageItem))}async loadNextPage(){if(!this.nextPageItem)return;const t=this.nextPageItem.getAttribute("data-next-page-url");if(t){this.nextPageItemSpinner.hidden=!1;const n=await(0,I.a)(document,t);this.nextPageItem.remove();const g=n.querySelectorAll("ul > li.focus-notification-item");for(const a of g)this.list.appendChild(a);const l=n.querySelector("ul > li.focus-pagination-next-item");l&&this.list.appendChild(l),this.setupPaginationObserver()}}disconnectCurrentObserver(){this.currentObserver&&this.currentObserver.disconnect()}},"NotificationFocusListElement");V([o.fA],R.prototype,"container",2),V([o.fA],R.prototype,"includeFragment",2),V([o.fA],R.prototype,"list",2),V([o.fA],R.prototype,"blankSlate",2),V([o.GO],R.prototype,"listElements",2),V([o.fA],R.prototype,"nextPageItem",2),V([o.fA],R.prototype,"nextPageItemSpinner",2),R=V([o.Ih],R);var z=u(46073),q=Object.defineProperty,tt=Object.getOwnPropertyDescriptor,K=i((t,n,g,l)=>{for(var a=l>1?void 0:l?tt(n,g):n,y=t.length-1,T;y>=0;y--)(T=t[y])&&(a=(l?T(n,g,a):T(a))||a);return l&&a&&q(n,g,a),a},"notification_focus_list_item_element_decorateClass");let B=i(class extends HTMLElement{constructor(){super(...arguments);this.notificationId="",this.isUnread=!1}connectedCallback(){var t,n;(t=this.closest(".js-navigation-item"))==null||t.addEventListener("navigation:keydown",this.handleCustomKeybindings.bind(this)),(n=this.closest(".js-navigation-item"))==null||n.addEventListener("navigation:keyopen",this.handleKeyOpen.bind(this))}url(){var t;return(t=this.notificationLink)==null?void 0:t.href}handleCustomKeybindings(t){const n=t.detail;!(0,z.Zf)(n.originalEvent)||(n.hotkey==="e"?this.doneForm.dispatchEvent(new Event("submit")):n.hotkey==="M"&&this.unsubscribeForm.dispatchEvent(new Event("submit")))}handleKeyOpen(){this.notificationLink.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}setFocusedState(t){var n,g,l;t&&this.isUnread&&(this.isUnread=!1,(n=this.closest(".js-navigation-item"))==null||n.classList.remove("color-bg-default"),(g=this.closest(".js-navigation-item"))==null||g.classList.add("color-bg-subtle")),(l=this.closest(".js-navigation-item"))==null||l.classList.toggle("current-focused-item",t),this.notificationTitle.classList.toggle("text-bold",t||this.isUnread)}async runRemoveAction(t){t.preventDefault();const n=t.currentTarget,g=new FormData(n),l=n.method,a=n.action,{ok:y}=await fetch(a,{body:g,method:l});y&&this.dispatchEvent(new CustomEvent("focus-mode-remove-item",{bubbles:!0,detail:{notificationId:this.notificationId}}))}},"NotificationFocusListItemElement");K([o.Lj],B.prototype,"notificationId",2),K([o.Lj],B.prototype,"isUnread",2),K([o.fA],B.prototype,"doneForm",2),K([o.fA],B.prototype,"unsubscribeForm",2),K([o.fA],B.prototype,"notificationLink",2),K([o.fA],B.prototype,"notificationTitle",2),B=K([o.Ih],B);var et=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,Z=i((t,n,g,l)=>{for(var a=l>1?void 0:l?nt(n,g):n,y=t.length-1,T;y>=0;y--)(T=t[y])&&(a=(l?T(n,g,a):T(a))||a);return l&&a&&et(n,g,a),a},"notification_focus_sidebar_element_decorateClass");let k=i(class extends HTMLElement{connectedCallback(){this.addEventListener("notification-focus:toggle-sidebar",this.toggleSidebar.bind(this),!0),window.localStorage.getItem("focus-sidebar-active")==="true"&&this.toggleSidebar()}toggleSidebar(){this.adjustSidebarPosition(),this.sidebar.classList.contains("active")?(this.listElement.deactivateNavigation(),this.sidebar.classList.remove("active"),window.localStorage.removeItem("focus-sidebar-active")):(this.listElement.activateNavigation(),this.sidebar.classList.add("active"),window.localStorage.setItem("focus-sidebar-active","true"))}async onFocusFilterChange(t){const n=t.detail;if(n.url){this.listElement.deactivateNavigation();const g=await(0,I.a)(document,n.url);this.listElement.replaceContent(g),this.listElement.activateNavigation()}}adjustSidebarPosition(){const t=document.querySelector("header[role=banner]");if(t){const n=t.offsetTop+t.offsetHeight;this.sidebar.style.top=`${n-10}px`}}},"NotificationFocusSidebarElement");Z([o.fA],k.prototype,"sidebar",2),Z([o.fA],k.prototype,"listElement",2),Z([o.fA],k.prototype,"filtersElement",2),k=Z([o.Ih],k);var G=u(63621),X=u(57654),J=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,x=i((t,n,g,l)=>{for(var a=l>1?void 0:l?Y(n,g):n,y=t.length-1,T;y>=0;y--)(T=t[y])&&(a=(l?T(n,g,a):T(a))||a);return l&&a&&J(n,g,a),a},"notifications_list_subscription_form_element_decorateClass");let e=i(class extends HTMLElement{constructor(){super(...arguments);this.lastAppliedLabels={}}connectedCallback(){const t=this.querySelector(".js-label-subscriptions-load");t==null||t.addEventListener("loadend",()=>{this.subscriptionsLabels.length>0&&(this.updateCheckedState("custom"),this.updateMenuButtonCopy("custom"))})}async submitCustomForm(t){await this.submitForm(t),this.closeMenu()}async submitForm(t){t.preventDefault(),(0,G.H)();const n=t.currentTarget,g=new FormData(n),l=await self.fetch(n.action,{method:n.method,body:g,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!l.ok){(0,G.v)();return}const a=await l.json(),y=g.get("do");typeof y=="string"&&this.updateCheckedState(y),typeof y=="string"&&this.updateMenuButtonCopy(y),this.updateSocialCount(a.count),this.applyInputsCheckedPropertiesToAttributesForNextFormReset()}updateMenuButtonCopy(t){this.unwatchButtonCopy.hidden=!(t==="subscribed"||t==="custom"),this.stopIgnoringButtonCopy.hidden=t!=="ignore",this.watchButtonCopy.hidden=!(t!=="subscribed"&&t!=="custom"&&t!=="ignore")}applyInputsCheckedPropertiesToAttributesForNextFormReset(){for(const t of[...this.threadTypeCheckboxes])t.toggleAttribute("checked",t.checked)}updateCheckedState(t){for(const n of this.subscriptionButtons)n.setAttribute("aria-checked",n.value===t?"true":"false");if(t==="custom")this.customButton.setAttribute("aria-checked","true");else{this.customButton.setAttribute("aria-checked","false");for(const n of[...this.threadTypeCheckboxes])(0,X.Se)(n,!1);if(this.subscriptionsContainer!==void 0){for(let n=0;n<this.subscriptionsLabels.length;n++)this.subscriptionsLabels[n].remove();this.subscriptionsSubtitle!==void 0&&this.subscriptionsSubtitle.toggleAttribute("hidden",!1),this.subscriptionsContainer.innerHTML=""}}}updateSocialCount(t){this.socialCount&&(this.socialCount.textContent=t,this.socialCount.setAttribute("aria-label",`${this.pluralizeUsers(t)} watching this repository`))}pluralizeUsers(t){return parseInt(t)===1?"1 user is":`${t} users are`}handleDialogLabelToggle(t){const n=t.detail.wasChecked,g=t.detail.toggledLabelId,l=t.detail.templateLabelElementClone;if(n){for(let a=0;a<this.subscriptionsLabels.length;a++)if(this.subscriptionsLabels[a].getAttribute("data-label-id")===g){this.subscriptionsLabels[a].remove();break}}else l.removeAttribute("hidden"),l.setAttribute("data-targets","notifications-list-subscription-form.subscriptionsLabels"),this.subscriptionsContainer.appendChild(l)}openCustomDialog(t){t.preventDefault(),t.stopPropagation(),this.menu.toggleAttribute("hidden",!0),this.enableApplyButtonAndCheckbox(),this.saveCurrentLabelsState(),this.customDialog.toggleAttribute("hidden",!1),setTimeout(()=>{var n;(n=this.customDialog.querySelector("input[type=checkbox][autofocus]"))==null||n.focus()},0)}enableApplyButtonAndCheckbox(){this.customDialog.querySelectorAll('[data-type="label"]:not([hidden])').length>0&&(this.customSubmit.removeAttribute("disabled"),this.threadTypeCheckboxes[0].checked=!0)}closeCustomDialog(t){t.preventDefault(),t.stopPropagation(),this.menu.toggleAttribute("hidden",!1),this.customDialog.toggleAttribute("hidden",!0),setTimeout(()=>{this.customButton.focus()},0)}resetFilterLabelsDialog(t){t.preventDefault(),t.stopPropagation();for(let n=0;n<this.subscriptionsLabels.length;n++){const g=this.subscriptionsLabels[n].getAttribute("data-label-id");for(let l=0;l<this.dialogLabelItems.length;l++)if(this.dialogLabelItems[l].labelId===g){this.dialogLabelItems[l].setCheckedForDropdownLabel(!1);break}}for(let n=0;n<Object.keys(this.lastAppliedLabels).length;n++){const g=Object.keys(this.lastAppliedLabels)[n];for(let l=0;l<this.dialogLabelItems.length;l++)if(this.dialogLabelItems[l].labelId===g){this.dialogLabelItems[l].setCheckedForDropdownLabel(!0);break}}this.subscriptionsContainer.replaceChildren(...Object.values(this.lastAppliedLabels)),this.closeFilterLabelsDialog(t)}openFilterLabelsDialog(t){t.preventDefault(),t.stopPropagation(),this.saveCurrentLabelsState(),this.customDialog.toggleAttribute("hidden",!0),this.filterLabelsDialog.toggleAttribute("hidden",!1),setTimeout(()=>{var n;(n=this.filterLabelsDialog.querySelector("input[type=checkbox][autofocus]"))==null||n.focus()},0)}closeFilterLabelsDialog(t){t.preventDefault(),t.stopPropagation(),this.menu.toggleAttribute("hidden",!0),this.customDialog.toggleAttribute("hidden",!1),this.filterLabelsDialog.toggleAttribute("hidden",!0)}applyFilterLabelsDialog(t){t.preventDefault(),t.stopPropagation(),this.saveCurrentLabelsState(),this.hideFilterSubtitle(),this.enableIssuesCheckbox(),this.closeFilterLabelsDialog(t)}enableIssuesCheckbox(){const t=Object.keys(this.lastAppliedLabels).length>0;t&&this.threadTypeCheckboxes.length>0&&(this.threadTypeCheckboxes[0].checked=t),this.threadTypeCheckboxesUpdated()}hideFilterSubtitle(){const t=Object.keys(this.lastAppliedLabels).length>0;this.subscriptionsSubtitle.toggleAttribute("hidden",t)}saveCurrentLabelsState(){this.lastAppliedLabels={},this.labelInputs.innerHTML="";for(let t=0;t<this.subscriptionsLabels.length;t++){const n=this.subscriptionsLabels[t].getAttribute("data-label-id");n&&(this.lastAppliedLabels[n]=this.subscriptionsLabels[t].cloneNode(!0),this.appendLabelToFormInput(n))}}appendLabelToFormInput(t){const n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","labels[]"),n.setAttribute("value",t),this.labelInputs.appendChild(n)}detailsToggled(){this.menu.toggleAttribute("hidden",!1),this.customDialog.toggleAttribute("hidden",!0)}submitCustom(t){t.preventDefault(),this.details.toggleAttribute("open",!1)}threadTypeCheckboxesUpdated(){const t=!this.threadTypeCheckboxes.some(n=>n.checked);this.customSubmit.disabled=t}closeMenu(){this.details.toggleAttribute("open",!1)}},"NotificationsListSubscriptionFormElement");x([o.fA],e.prototype,"details",2),x([o.fA],e.prototype,"menu",2),x([o.fA],e.prototype,"customButton",2),x([o.fA],e.prototype,"customDialog",2),x([o.fA],e.prototype,"filterLabelsDialog",2),x([o.GO],e.prototype,"subscriptionButtons",2),x([o.GO],e.prototype,"subscriptionsLabels",2),x([o.fA],e.prototype,"labelInputs",2),x([o.fA],e.prototype,"subscriptionsSubtitle",2),x([o.fA],e.prototype,"socialCount",2),x([o.fA],e.prototype,"unwatchButtonCopy",2),x([o.fA],e.prototype,"stopIgnoringButtonCopy",2),x([o.fA],e.prototype,"watchButtonCopy",2),x([o.GO],e.prototype,"threadTypeCheckboxes",2),x([o.fA],e.prototype,"customSubmit",2),x([o.fA],e.prototype,"subscriptionsContainer",2),x([o.GO],e.prototype,"dialogLabelItems",2),e=x([o.Ih],e);var s=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=i((t,n,g,l)=>{for(var a=l>1?void 0:l?_(n,g):n,y=t.length-1,T;y>=0;y--)(T=t[y])&&(a=(l?T(n,g,a):T(a))||a);return l&&a&&s(n,g,a),a},"notifications_team_subscription_form_element_decorateClass");let A=i(class extends HTMLElement{closeMenu(){this.details.toggleAttribute("open",!1)}},"NotificationsTeamSubscriptionFormElement");v([o.fA],A.prototype,"details",2),A=v([o.Ih],A);var j=Object.defineProperty,F=Object.getOwnPropertyDescriptor,W=i((t,n,g,l)=>{for(var a=l>1?void 0:l?F(n,g):n,y=t.length-1,T;y>=0;y--)(T=t[y])&&(a=(l?T(n,g,a):T(a))||a);return l&&a&&j(n,g,a),a},"notifications_subscriptions_dialog_label_item_decorateClass");let Q=i(class extends HTMLElement{toggleDropdownLabel(t){if(t.preventDefault(),t.stopPropagation(),this.label){const n=this.label.getAttribute("aria-checked")==="true";this.setCheckedForDropdownLabel(!n),this.dispatchEvent(new CustomEvent("notifications-dialog-label-toggled",{detail:{wasChecked:n,toggledLabelId:this.labelId,templateLabelElementClone:this.hiddenLabelTemplate.cloneNode(!0)},bubbles:!0}))}}setCheckedForDropdownLabel(t){this.label.setAttribute("aria-checked",t.toString())}},"NotificationsDialogLabelItemElement");W([o.fA],Q.prototype,"label",2),W([o.fA],Q.prototype,"hiddenLabelTemplate",2),W([o.fA],Q.prototype,"hiddenCheckboxInput",2),W([o.Lj],Q.prototype,"labelId",2),Q=W([o.Ih],Q)}},O=>{var P=i(o=>O(O.s=o),"__webpack_exec__");O.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-6e358f"],()=>P(67292));var u=O.O()}]);})();

//# sourceMappingURL=notifications-global-ee129780daad.js.map